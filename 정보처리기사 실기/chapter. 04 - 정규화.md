# chapter. 04 - 정규화

## section 77. 이상(Anomaly)
### 1. 이상(Anomaly)의 개념
> 테이블에서 일부 속성들의 종속으로 인해 데이터의 중복이 발생하고, 이로 인해 테이블 조작 시 문제가 발생하는 현상을 의미한다.

### 2. 이상의 종류
> 테이블 조작중에 발생하는 삽입 이상(Insertion Anomaly), 삭제 이상(Deletion Anomaly), 갱신 이상(Update Anomaly)가 있다.

### 3. 삽입 이상
> 테이블에 데이터를 삽입할 때 의도와는 상관없이 원하지 않은 값들로 인해 삽입할 수 없게 되는 현상

### 4. 삭제 이상
> 연쇄 삭제가 발생하는 현상

### 5. 갱신 이상
> 테이블에서 튜플에 있는 속성 값을 갱신할 때 일부 튜플의 정보만 갱신되어 정보에 불일치성(Inconsistency)이 생기는 현상

## section 78. 함수적 종속
### 1. 함수적 종속(Functional Dependency)의 개념
> 어떤 테이블 R에서 X와 Y를 각각 R의 속성 집합의 부분 집합이라 하고, 속성 X의 값 각각에 대해 항상 속성 Y 값이 오직 하나만 연관되어 있을 때 Y는 X에 함수적 종속 또는 X가 Y를 함수적으로 결정한다고 하고, X → Y로 표기한다.
- 함수적 종속은 데이터의 의미를 표현한 것으로, 현실 세계를 표현하는 제약 조건이 되는 동시에 DB에서 항사 유지되어야 할 조건이다.
- X → Y에서 X를 결정자(Determinant)라 하고, Y를 종속자(Dependent)라고 한다.

### 2. 함수적 종속 다이어그램
> 한 테이블에 존재하는 속성들 간의 복잡한 함수적 종속 관계를 그림으로 표현한 것

<img src="images/image 001.png">

위의 다이어그램에서 (학번, 과목번호)에 성적은 완전 함수적 종속 (Full Functional Dependency)이며, 학년은 부분 함수적 종속(Partial Functional Dependency)이다.

- 완전 함수적 종속 : 어떤 속성이 모든 기본키에 대해 종속적일 때
- 부분 함수적 종속 : 어떤 속성이 기본키의 일부에 대해 종속적일 때

## section 79. 정규화
### 1. 정규화(Normalization)의 개념
> 테이블의 속성들이 상호 종속적인 관계를 갖는 특성을 이용하여 테이블을 무손실 분해하는 과정으로, 정규화의 목적은 가능한 한 중복을 제거하여 삽입, 삭제, 갱신 이상의 발생 가능성을 줄이는 것이다.

### 2. 정규화 과정
**제 1정규형(1NF;First Normal Form)**
> 테이블에 속한 모든 속성의 도메인이 원자 값으로만 되어 있는 정규형

**제 2정규형(2NF;Second Normal Form)**
> 테이블이 제 1정규형이고, 기본키가 아닌 모든 속성이 기본키에 대해 완전 함수적 종속을 만족하는 정규형 (부분적 함수 종속 제거)

**제 3정규형(3NF;Third Normal Form)**
> 테이블이 제 2정규형이고, 기본키가 아닌 모든 속성이 기본키에 대해 이행적 함수적 종속(Transitive Functional Dependency)을 만족하지 않는 정규형 (이행적 함수 종속 제거)

**BCNF**
> 테이블에서 모든 결정자가 후보키인 정규형 (결정자이면서 후보키가 아닌 것 제거)

**제 4정규형**
> 테이블에 속성 A, B의 다중 값 종속(MVD;Multi Valued Dependency;다치 종속) A ↠ B가 존재할 경우 테이블의 모든 속성이 A에 함수적 종속 관계를 만족하는 정규형 (다치 종속)

**제 5정규형**
> 테이블의 모든 조인 종속(JD:Join Dependency)이 테이블의 후보키를 통해서만 성립되는 정규형 (조인 속성 이용)

**비정규화(Denormalization, 역정규화)**
> 정규화로 인해 여러 개로 분해된 릴레이션들을 JOIN하는 것보다 성능 향상을 위해 다시 테이블을 합치는 과정